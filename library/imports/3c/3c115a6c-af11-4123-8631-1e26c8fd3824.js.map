{"version":3,"sources":["../../../../assets/Script/assets/Script/BaseView.js"],"names":["cc","Class","extends","Component","properties","m_Hero","Animation","m_BtRoll","Button","onLoad","log","myHeroPlay","node","on","Node","EventType","TOUCH_START","touchStart","TOUCH_END","touchEnd","TOUCH_CANCEL","currentClip","name","callBackDownOver","onAnimationChange","target","data","moveUp","moveTo","easing","easeCubicActionOut","moveDown","easeCubicActionIn","callBack","callFunc","seq","sequence","runAction","playName","setPosition","play"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,gBAAOL,GAAGM,SAZF;AAaRC,kBAASP,GAAGQ;;AAbJ,KAHP;;AAoBL;AACAC,YAAQ,kBAAY;AAChBT,WAAGU,GAAH,CAAO,aAAP;;AAEA,aAAKC,UAAL,CAAgB,KAAhB;AACA,aAAKJ,QAAL,CAAcK,IAAd,CAAmBC,EAAnB,CAAsBb,GAAGc,IAAH,CAAQC,SAAR,CAAkBC,WAAxC,EAAoD,KAAKC,UAAzD,EAAoE,IAApE;AACA,aAAKV,QAAL,CAAcK,IAAd,CAAmBC,EAAnB,CAAsBb,GAAGc,IAAH,CAAQC,SAAR,CAAkBG,SAAxC,EAAkD,KAAKC,QAAvD,EAAgE,IAAhE;AACA,aAAKZ,QAAL,CAAcK,IAAd,CAAmBC,EAAnB,CAAsBb,GAAGc,IAAH,CAAQC,SAAR,CAAkBK,YAAxC,EAAqD,KAAKD,QAA1D,EAAmE,IAAnE;AACH,KA5BI;;AA8BLF,gBAAW,sBACX;AACIjB,WAAGU,GAAH,CAAO,YAAP;AACA,YAAG,KAAKL,MAAL,CAAYgB,WAAZ,CAAwBC,IAAxB,IAAgC,MAAnC,EACA;AACI;AACH;AACD,aAAKX,UAAL,CAAgB,MAAhB;AACH,KAtCI;;AAwCLQ,cAAS,oBACT;AACInB,WAAGU,GAAH,CAAO,UAAP;AACA,YAAG,KAAKL,MAAL,CAAYgB,WAAZ,CAAwBC,IAAxB,IAAgC,MAAnC,EACA;AACI;AACH;AACD,aAAKX,UAAL,CAAgB,KAAhB;AACH,KAhDI;;AAkDLY,sBAAiB,4BACjB;AACIvB,WAAGU,GAAH,CAAO,kBAAP;AACA;AACA,aAAKC,UAAL,CAAgB,KAAhB;AACH,KAvDI;AAwDLa,uBAAkB,2BAASC,MAAT,EAAgBC,IAAhB,EAClB;AACI1B,WAAGU,GAAH,CAAO,uBAAqBgB,IAA5B;;AAEA,YAAIA,QAAQ,MAAZ,EACA;AACI,gBAAIC,SAAS3B,GAAG4B,MAAH,CAAU,CAAV,EAAY,CAAC,EAAb,EAAgB,EAAhB,EAAoBC,MAApB,CAA2B7B,GAAG8B,kBAAH,EAA3B,CAAb;AACA,gBAAIC,WAAW/B,GAAG4B,MAAH,CAAU,CAAV,EAAY,CAAC,EAAb,EAAgB,CAAC,EAAjB,EAAqBC,MAArB,CAA4B7B,GAAGgC,iBAAH,EAA5B,CAAf;AACA,gBAAIC,WAAWjC,GAAGkC,QAAH,CAAY,KAAKX,gBAAjB,EAAkC,IAAlC,EAAuC,IAAvC,CAAf;AACA,gBAAIY,MAAMnC,GAAGoC,QAAH,CAAYT,MAAZ,EAAmBI,QAAnB,EAA4BE,QAA5B,CAAV;AACA,iBAAK5B,MAAL,CAAYO,IAAZ,CAAiByB,SAAjB,CAA2BF,GAA3B;AACH;AACD,aAAKxB,UAAL,CAAgBe,IAAhB;AACH,KArEI;AAsELf,gBAAW,oBAAS2B,QAAT,EACX;AACI,YAAIA,YAAY,MAAhB,EACA;AACI,iBAAKjC,MAAL,CAAYO,IAAZ,CAAiB2B,WAAjB,CAA6B,CAAC,EAA9B,EAAiC,CAAC,EAAlC;AACH,SAHD,MAIK,IAAID,YAAY,KAAhB,EACL;AACI,iBAAKjC,MAAL,CAAYO,IAAZ,CAAiB2B,WAAjB,CAA6B,CAAC,EAA9B,EAAiC,CAAC,EAAlC;AAEH;AACD,aAAKlC,MAAL,CAAYmC,IAAZ,CAAiBF,QAAjB;AACH;AACD;AACA;;AAEA;AAtFK,CAAT","file":"BaseView.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n\n        m_Hero:cc.Animation,\n        m_BtRoll:cc.Button,\n\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        cc.log('Hello World');\n        \n        this.myHeroPlay('Run');\n        this.m_BtRoll.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this);\n        this.m_BtRoll.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this);\n        this.m_BtRoll.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this);\n    },\n\n    touchStart:function()\n    {\n        cc.log('touchStart');\n        if(this.m_Hero.currentClip.name == 'Jump' )\n        {\n            return;\n        }\n        this.myHeroPlay('Roll');\n    },\n    \n    touchEnd:function()\n    {\n        cc.log('touchEnd');\n        if(this.m_Hero.currentClip.name == 'Jump' )\n        {\n            return;\n        }\n        this.myHeroPlay('Run');\n    },\n\n    callBackDownOver:function()\n    {\n        cc.log('callBackDownOver');\n        // var anim = this.getComponent(cc.Animation);\n        this.myHeroPlay('Run');\n    },\n    onAnimationChange:function(target,data)\n    {\n        cc.log(\"onAnimationChange \"+data);\n\n        if( data == 'Jump')\n        {\n            var moveUp = cc.moveTo(1,-92,42).easing(cc.easeCubicActionOut());\n            var moveDown = cc.moveTo(1,-92,-52).easing(cc.easeCubicActionIn());\n            var callBack = cc.callFunc(this.callBackDownOver,this,this);\n            var seq = cc.sequence(moveUp,moveDown,callBack); \n            this.m_Hero.node.runAction(seq);\n        }\n        this.myHeroPlay(data);\n    },\n    myHeroPlay:function(playName)\n    {\n        if( playName == 'Roll' )\n        {\n            this.m_Hero.node.setPosition(-92,-57);\n        }\n        else if( playName == 'Run')\n        {\n            this.m_Hero.node.setPosition(-92,-49);\n\n        }\n        this.m_Hero.play(playName);\n    },\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}